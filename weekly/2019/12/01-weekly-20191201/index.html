<!doctype html><link href=https://cdn.bootcss.com/highlight.js/9.12.0/styles/monokai.min.css rel=stylesheet><script src=https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js></script><script>hljs.initHighlightingOnLoad();</script><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Weekly-20191201 | å‰ªå¾„å°è´¼</title><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=/css/fonts.css></head><body><nav><ul class=menu><li><a href=/>Home</a></li><li><a href=/post/>Post</a></li><li><a href=/weekly/>Weekly</a></li><li><a href=/categories/>Categories</a></li><li><a href=/tags/>Tags</a></li><li><a href=/about/>About</a></li><li><a href=/index.xml>Subscribe</a></li></ul><hr></nav><div class=article-meta><h1><span class=title>Weekly-20191201</span></h1><h2 class=date>2019/12/01</h2></div><main><ol><li><p>æŒ‘äº†ä¸€æœ¬ä¸Šå‘¨ä¸‹è½½çš„ Operating Systems: Three easy pieces <sup class=footnote-ref id=fnref:http-pages-cs-wi><a href=#fn:http-pages-cs-wi>1</a></sup>. æ¥è¯»ï¼Œè¿™æ¬¡å°è¯•ä¸ç”¨ç¿»è¯‘é˜…è¯»ï¼Œèµ·åˆçœ‹åœ°æ¯”è¾ƒåƒåŠ›ï¼Œåæ¥è§‰å¾—è¶Šæ¥è¶Šé¡ºç•…äº†ã€‚è¿™æœ¬ä¹¦ä»è™šæ‹ŸåŒ–ã€å¹¶å‘å’ŒæŒä¹…åŒ–ä¸‰ä¸ªæ–¹é¢ä»‹ç»ï¼Œè¿™ç§ç»“æ„æ›´å®¹æ˜“æŠŠçŸ¥è¯†æ‰“ç©¿ï¼Œä¹Ÿæ˜¯æˆ‘é€‰æ‹©è¿™æœ¬ä¹¦çš„åŸå› ã€‚è¯»äº†7ä¸ª chapter ä¹Ÿå‘ç°äº†å‡ ä¸ªé—®é¢˜ï¼Œå’Œç¾¤é‡Œçš„æœ‹å‹ä»¬æ¢è®¨äº†ä¸€ä¸‹ï¼š</p><h3 id=q1-è·å–ç³»ç»Ÿæ—¶é—´-gettimeofday-æ˜¯å¦ä¼šè¿›è¡Œç³»ç»Ÿè°ƒç”¨>Q1: è·å–ç³»ç»Ÿæ—¶é—´(gettimeofday())æ˜¯å¦ä¼šè¿›è¡Œç³»ç»Ÿè°ƒç”¨ï¼Ÿ</h3><ul><li>Switching Between Processes<ul><li>A Non-Cooperative Approach: The OS Takes Control<br><ul><li>A timer device can be programmed to raise an interrupt every so many milliseconds; when the interrupt is raised, the currently running process is halted, and a pre-conï¬gured interrupt handler in the OS runs. At this point, the OS has regained control of the CPU, and thus can do what it pleases: stop the current process, and start a different one.</li></ul></li></ul></li></ul><p>æ€è€ƒï¼š
Timer ç”¨äºè¿›ç¨‹åˆ‡æ¢ï¼Œæ­¤å¤–ç³»ç»Ÿçš„æ—¶é—´ä¹Ÿç”±å®ƒè¿›è¡Œç»´æŠ¤ï¼Œé‚£ä¹ˆæ¯æ¬¡è·å–ç³»ç»Ÿæ—¶é—´æ˜¯å¦ä¼šè¿›è¡Œç³»ç»Ÿè°ƒç”¨ï¼Ÿ</p><p>Aï¼š
æ¯ä¸ª OS æœ‰ä¸åŒçš„å®ç°ï¼Œå¯¹äº OSX æ¥è¯´ï¼Œä¸éœ€è¦ã€‚commpage ä¼šå¼‚æ­¥åœ°ä»å†…æ ¸æ›´æ–°åŒ…æ‹¬æ—¶é—´çš„åœ°å€ç©ºé—´ã€‚</p><blockquote><p>Briefly, it is a special area of kernel memory that is mapped into the last eight pages of the address space of every process. Among other things, it contains time values that are &ldquo;updated asynchronously from the kernel and read atomically from user space, leading to occasional failures in reading&rdquo;.<sup class=footnote-ref id=fnref:https-stackoverf><a href=#fn:https-stackoverf>2</a></sup></p></blockquote><h3 id=q2-ä¸ºä»€ä¹ˆ-unix-ä½¿ç”¨-fork-exec-çš„å½¢å¼åˆ›å»ºè¿›ç¨‹-è€Œä¸æ˜¯ç›´æ¥-create>Q2: ä¸ºä»€ä¹ˆ UNIX ä½¿ç”¨ fork-exec çš„å½¢å¼åˆ›å»ºè¿›ç¨‹ï¼Œè€Œä¸æ˜¯ç›´æ¥ create</h3><p><center><img src=/pic/2019-12-01-weekly/fork-exec.png alt></center>
<center>å›¾1ï¼ŒOperating Systems: Three easy pieces å¯¹äº UNIX é‡‡ç”¨ fork-exec çš„è§£é‡Š</center></p><p>A:
ç®€å•æ¥è¯´ï¼Œé‡‡ç”¨ fork-exec å¯ä»¥æ ¹æ®éœ€æ±‚ç»„åˆæˆä¸åŒçš„åº”ç”¨ï¼Œè€Œä¸”å¯¹äº UNIX ä¸­ç®¡é“æ“ä½œè¾ƒä¸ºå‹å¥½ã€‚</p><hr></li><li><p>æ¯•ä¸šä½“æ£€ä¹Ÿå®Œæˆäº†ï¼Œä¸å¾—ä¸è¯´æˆ‘æ ¡çš„åŒ»ç”Ÿä¸“ä¸šèƒ½åŠ›ç‰¹åˆ«å¼ºï¼šä¸éœ€è¦ä»ªå™¨ç›´æ¥å°±èƒ½æµ‹å‡ºè¡€å‹&hellip;</p></li><li><p>åº†ä½™å¹´å¼€æ’­äº†ï¼Œä¸å¾—ä¸è¯´æˆ‘å®åœ¨ä¸èƒ½æ¥å—ç”·ä¸»è§’çš„é€‰è§’ğŸ˜“</p></li><li><p>leetcode å¼€å§‹äºŒåˆ·ï¼Œ7å¤©åšäº†9é“é¢˜ã€‚çŠ¶æ€å°±æ˜¯ï¼šeasy ç§’ï¼Œmedium åœ¨çº¸ä¸Šç”»ç”»èƒ½å‡ºæ¥ï¼Œ hard çœ‹äº†é¢˜è§£ä¹Ÿå¾—æƒ³åŠå¤©ğŸ¤£</p></li><li><p>åˆä¸­åŒå­¦æ¥å¤§è¿çœ‹æ¼”å‡ºï¼Œé™ªä»–é€›äº†é€›ã€‚å¤§è¿è¿™ä¸ªå­£èŠ‚åŠ ä¸Šä¸‹é›¨ï¼Œæ˜Ÿæµ·å¹¿åœºä¸Šè¿ä¸ªäººéƒ½æ²¡æœ‰ã€‚</p></li><li><p>ä¸‹äº†ä¸‰å¤©è‡ªèµ°æ£‹ï¼Œæœç„¶è¿˜æ˜¯æ¸¸æˆå¥½ç©ã€‚</p></li><li><p>æ¡Œé¢åˆæ”¶æ‹¾äº†ä¸€ä¸‹ï¼Œç”µè„‘æ˜¾ç¤ºå™¨å’Œ pad åˆé‡æ–°å¸ƒå±€ï¼Œæ„Ÿè§‰è¿˜è¡Œå§ã€‚(å›¾é‡Œæœ‰æœ¬ä¹¦æ˜¯å½©è›‹ğŸ˜†)
<center><img src=/pic/2019-12-01-weekly/desk.jpeg alt></center>
<center>å›¾2ï¼Œæ”¶æ‹¾åçš„æ¡Œé¢</center></p></li><li><p>29 å·è¿‡ç”Ÿæ—¥æ¥ç€ã€‚22å²äº†åå€’æ²¡æœ‰ä»€ä¹ˆç”Ÿæ—¥çš„æ„Ÿè§‰ï¼Œå’Œå¾€å¸¸æ—¥å­ä¸€æ ·çœ‹çœ‹ä¹¦ã€å†™ä¼šå„¿ä»£ç å°±è¿‡å»äº†ã€‚</p></li><li><p>æ‰¾è€å¸ˆè°ˆäº†è°ˆæ¯•è®¾çš„äº‹æƒ…ï¼Œç»“è®ºå°±æ˜¯åªè¦å·¥ä½œé‡è¶³å¤Ÿï¼Œéšä¾¿å†™ä»€ä¹ˆï¼Œåˆ°æ—¶å€™é¢˜ç›®å†æ”¹ã€‚</p></li></ol><div class=footnotes><hr><ol><li id=fn:http-pages-cs-wi><a href=http://pages.cs.wisc.edu/~remzi/OSTEP/>http://pages.cs.wisc.edu/~remzi/OSTEP/</a> <a class=footnote-return href=#fnref:http-pages-cs-wi>â†©</a></li><li id=fn:https-stackoverf><a href=https://stackoverflow.com/questions/40967594/does-gettimeofday-on-macos-use-a-system-call>https://stackoverflow.com/questions/40967594/does-gettimeofday-on-macos-use-a-system-call</a> <a class=footnote-return href=#fnref:https-stackoverf>â†©</a></li></ol></div></main><div id=disqus_thread></div><script>(function(){var d=document,s=d.createElement('script');s.src='https://arjenzhou.disqus.com/embed.js';s.setAttribute('data-timestamp',+new Date());(d.head||d.body).appendChild(s);})();</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><footer><hr><a href=https://arjenzhou.github.io>Zhou Yang</a> | <a href=https://github.com/arjenzhou>Github</a> | <a href=mailto:zhouyang.zy@protonmail.com>Email</a></footer></body></html>